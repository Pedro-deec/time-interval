time-interval
Cyrus Harmon

time-interval is a common lisp library for flexibly encoding times and
time intervals. The primary motivation for this is to be able to
represent periods of time such as "6 months from July 1, 2008". The
idea here isn't to represent the start and dates (or times)
explicitly, but rather to flexibly represent the interval. The
difficulty arises from the fact that a length of time such as "6
months" can't be uniquely represented as a number of days, hours,
minutes, etc... Depending on what the starting point is, the number of
days (hours, etc...) in a 6-month interval will change. Therefore, we
need a way of representing the time intervals and for computing a new
exact time given a starting time and a time interval. Furthermore,
opreations (addition, subtraction, scaling, etc...) on time intervals
would be desirable.

Required Libraries:

cl-ppcre

Classes:

explicit-time:

The explicit-time class is similar to the decoded time representation,
but with the data stored in fields, rather than just as a simple
list.

To create an explict-time instance, one can call make-instance
directly or use the universal-time->explicit-time and
decoded-time->explicit-time functions to convert from either a
universal time (an integer represent the number of seconds since
1900, see the common-lisp standard), or a decoded time, that is to say
that the arguments to decoded-time->explict-time are second, minute,
hour, date, month, year, day, daylight-p and the &optional argument
time-zone.

time-interval:

The time-interval class is used for representing a given interval of
time, such as 6 months, 2 days, 4 hours and 3 seconds. Each of the
components can independenly be positive or negative, so we can have,
for instance, an interval that represents 1 hour less than two days,
by doing:

  (make-instance 'time-interval :hours -1 :days 2)

